(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7079],{1950:function(e,t,n){Promise.resolve().then(n.bind(n,3858))},9376:function(e,t,n){"use strict";var r=n(5475);n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},3858:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(7437),a=n(2265),o=n(9376),s=n(9836),c=n(2615);async function l(e,t){let n=new FormData;n.append("token",t),n.append("password",e);let r="".concat(c.p.DOMAIN_URL,"/users/reset-password/");return await fetch(r,{method:"POST",body:n}).then(e=>e.ok).catch(()=>!1)}var i=()=>{let[e,t]=(0,a.useState)(""),[n,c]=(0,a.useState)(""),[i,u]=(0,a.useState)(""),[d,h]=(0,a.useState)(!1),[f,m]=(0,a.useState)(!1),[p,b]=(0,a.useState)(null),[v,g]=(0,a.useState)(!1),x=(0,o.useRouter)();(0,a.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("token");e?t(e):b("Token no encontrado en la URL.")},[]);let y=async t=>{if(t.preventDefault(),n.length<8){b("La contrase\xf1a debe tener al menos 8 caracteres."),console.log("Error: La contrase\xf1a debe tener al menos 8 caracteres.");return}if(!/(?=.*\d)/.test(n)){b("La contrase\xf1a debe contener al menos un n\xfamero."),console.log("Error: La contrase\xf1a debe contener al menos un n\xfamero.");return}if(!/(?=.*[A-Z])/.test(n)){b("La contrase\xf1a debe contener al menos una letra may\xfascula."),console.log("Error: La contrase\xf1a debe contener al menos una letra may\xfascula.");return}if(n!==i){b("Las contrase\xf1as no coinciden."),console.log("Error: Las contrase\xf1as no coinciden.");return}try{await l(n,e)?(g(!0),b(null),console.log("Contrase\xf1a restablecida exitosamente."),x.push("/login")):(b("Error al restablecer la contrase\xf1a. Por favor, intenta nuevamente."),console.log("Error: Error al restablecer la contrase\xf1a."))}catch(e){b("Error al intentar restablecer la contrase\xf1a. Por favor, intenta nuevamente."),console.log("Error al intentar restablecer la contrase\xf1a:",e)}};return(0,r.jsxs)("div",{className:"center-container",style:{backgroundImage:'url("/img/pixelcut-export.jpeg")',backgroundSize:"cover",backgroundPosition:"center"},children:[(0,r.jsx)(s.Z,{}),v?(0,r.jsx)("p",{className:"success-message",children:"Contrase\xf1a restablecida exitosamente."}):(0,r.jsxs)("form",{className:"glass-card p-3",onSubmit:y,children:[(0,r.jsx)("h2",{className:"heading-2",children:"Restablecer contrase\xf1a"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:d?"text":"password",placeholder:"Nueva contrase\xf1a",className:"auth-input",value:n,onChange:e=>c(e.target.value),required:!0}),(0,r.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-600",onClick:()=>h(!d),children:d?"Ocultar":"Mostrar"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:f?"text":"password",placeholder:"Confirmar contrase\xf1a",className:"auth-input",value:i,onChange:e=>u(e.target.value),required:!0}),(0,r.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-600",onClick:()=>m(!f),children:f?"Ocultar":"Mostrar"})]}),(0,r.jsx)("button",{type:"submit",className:"login-button bg-foundation-1",children:"Restablecer Contrase\xf1a"}),p&&(0,r.jsx)("p",{className:"text-red-500 text-center",children:p})]})]})}},9836:function(e,t,n){"use strict";var r=n(7437),a=n(2265),o=n(9376);n(3193),t.Z=()=>{let[e,t]=(0,a.useState)(!1),n=(0,o.useRouter)(),s=()=>{t(!1),n.push("/")};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"bg-black bg-opacity-50 fixed top-10 left-6 z-50 p-2 rounded-full volver",children:(0,r.jsx)("button",{className:" text-white",onClick:s,children:"Volver"})}),e&&(0,r.jsx)("div",{className:"modal-overlay",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsx)("p",{children:"\xbfSeguro que quieres volver al inicio?"}),(0,r.jsx)("button",{className:"confirm-button",onClick:s,children:"Salir"}),(0,r.jsx)("button",{className:"cancel-button",onClick:()=>t(!1),children:"Cancelar"})]})})]})}},2615:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r=n(5566);let a={DOMAIN_WS:r.env.WEBSOCKET_URL,DOMAIN_URL:r.env.DOMAIN_URL,WEBAPP_URL:"/bienvenida/webapp"}},3193:function(){},5566:function(e){var t,n,r,a=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l=[],i=!1,u=-1;function d(){i&&r&&(i=!1,r.length?l=r.concat(l):u=-1,l.length&&h())}function h(){if(!i){var e=c(d);i=!0;for(var t=l.length;t;){for(r=l,l=[];++u<t;)r&&r[u].run();u=-1,t=l.length}r=null,i=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||i||c(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},function(e){e.O(0,[9197,2971,2117,1744],function(){return e(e.s=1950)}),_N_E=e.O()}]);