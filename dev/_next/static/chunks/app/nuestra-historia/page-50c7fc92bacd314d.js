(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9717],{1299:function(e,t,i){Promise.resolve().then(i.bind(i,2840))},8345:function(e,t,i){"use strict";i.d(t,{g:function(){return r}});var n=i(2079);function r(e,t,i,r){let o=class extends n.jyz{constructor(o={}){let a=Object.entries(e);super({uniforms:a.reduce((e,[t,i])=>{let r=n.rDY.clone({[t]:{value:i}});return{...e,...r}},{}),vertexShader:t,fragmentShader:i}),this.key="",a.forEach(([e])=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t})),Object.assign(this,o),r&&r(this)}};return o.key=n.M8C.generateUUID(),o}},2840:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return er}});var n,r,o=i(7437),a=i(2265),s=i(6007);i(8479);var l=i(9945),c=i(8823),u=i(9173),d=i(9873),m=i(712);let f=[{id:1,color:"bg-blue-500",title:"Fundaci\xf3n y or\xedgenes",text:"\xc1rboles j\xf3venes y brotes verdes que surgen de la tierra, simbolizando los inicios y la primera semilla de la empresa",fila:1,image:"/img/nuestra-historia/74b44ddf53dcda34a08c078352370c62c2c55bdd.jpg",sidebarId:1},{id:2,color:"bg-red-500",title:"Primeros logros",text:"\xc1rboles j\xf3venes y brotes verdes que surgen de la tierra, simbolizando los inicios y la primera semilla de la empresa",fila:1,image:"/img/nuestra-historia/1d579b8a2adf4b6b3eeaa8a5c70a9269d6f3ee42.jpg",sidebarId:1},{id:3,color:"bg-green-500",title:"Apoyo institucional \n y alianzas",text:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Consequatur enim fuga ullam sed temporibus dicta, sapiente quisquam impedit minima accusantium nobis deleniti necessitatibus recusandae eius, rerum cum. Incidunt, quibusdam. Doloribus?",fila:1,image:"/img/nuestra-historia/3c5b06a89c5f07d246ba2b01b0f55b1f45d3e3fc.jpg",sidebarId:1},{id:4,color:"bg-yellow-500",title:"Crecimiento y financiaci\xf3n",text:"Texto del c\xedrculo 4",fila:2,image:"/img/nuestra-historia/71834ff296065182bc93b2af576503570c64de04.jpg",sidebarId:1},{id:5,color:"bg-purple-500",title:"Participaci\xf3n en Programas de Aceleraci\xf3n",text:"Texto del c\xedrculo 5",fila:2,image:"/img/nuestra-historia/f95b919012a07a541d7cc210be2beffc6382546e.jpg",sidebarId:1},{id:6,color:"bg-blue-500",title:"Subvenci\xf3n del Gobierno Vasco",text:"Texto del c\xedrculo 6",fila:1,image:"/img/nuestra-historia/e48a4e0dd5b5d67e66e22d7d371e41edffd8235d.jpg",sidebarId:2},{id:7,color:"bg-red-500",title:"Subvenci\xf3n de la Diputaci\xf3n de Bizkaia",text:"Texto del c\xedrculo 7",fila:1,image:"/img/nuestra-historia/64a7f9ef224cf7a644a7aa39eacfcb6d1420ba6c.jpg",sidebarId:2},{id:8,color:"bg-green-500",title:"Primer premio en la categor\xeda de Metaverso",text:"Texto del c\xedrculo 8",fila:1,image:"/img/nuestra-historia/dc86adaba1ade38670befe65a53f5aab3d02903f.jpg",sidebarId:2},{id:9,color:"bg-yellow-500",title:"Programa de subvenciones \xabActiva Startups\xbb",text:"Texto del c\xedrculo 9",fila:2,image:"/img/nuestra-historia/5d6936ddefc2d2e28fae54e49c7771a4c052eebf.jpg",sidebarId:2},{id:10,color:"bg-purple-500",title:"Ayudas para la innovaci\xf3n abierta en Pymes del Pa\xeds Vasco",text:"Texto del c\xedrculo 10",fila:2,image:"/img/nuestra-historia/cb6bda2fdb60ec17690cc4ef6fb92c304e02d66d.jpg",sidebarId:2},{id:11,color:"bg-blue-500",title:"T\xedtulo 11",text:"Texto del c\xedrculo 11",fila:1,image:"",sidebarId:3},{id:12,color:"bg-red-500",title:"T\xedtulo 12",text:"Texto del c\xedrculo 12",fila:1,image:"",sidebarId:3},{id:13,color:"bg-green-500",title:"T\xedtulo 13",text:"Texto del c\xedrculo 13",fila:1,image:"",sidebarId:3},{id:14,color:"bg-yellow-500",title:"T\xedtulo 14",text:"Texto del c\xedrculo 14",fila:2,image:"",sidebarId:3},{id:15,color:"bg-purple-500",title:"T\xedtulo 15",text:"Texto del c\xedrculo 15",fila:2,image:"",sidebarId:3},{id:16,color:"bg-blue-500",title:"T\xedtulo 16",text:"Texto del c\xedrculo 16",fila:1,image:"",sidebarId:4},{id:17,color:"bg-red-500",title:"T\xedtulo 17",text:"Texto del c\xedrculo 17",fila:1,image:"",sidebarId:4},{id:18,color:"bg-green-500",title:"T\xedtulo 18",text:"Texto del c\xedrculo 18",fila:1,image:"",sidebarId:4},{id:19,color:"bg-yellow-500",title:"T\xedtulo 19",text:"Texto del c\xedrculo 19",fila:2,image:"",sidebarId:4},{id:20,color:"bg-purple-500",title:"T\xedtulo 20",text:"Texto del c\xedrculo 20",fila:2,image:"",sidebarId:4}];i(6778);var p=e=>{let{setSelectedCircle:t,sidebarId:i}=e,n=f.filter(e=>e.sidebarId===i),r=[...new Set(n.map(e=>e.fila))].map(e=>n.filter(t=>t.fila===e));return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"flex flex-col items-center w-full h-full justify-center gap-20 contenedor-general ",children:r.map((e,i)=>(0,o.jsx)("div",{className:"flex justify-center w-full gap-20 contenedor-filas",children:e.map(e=>(0,o.jsxs)("div",{className:"flex flex-col items-center contenedor-contenido",children:[(0,o.jsx)("div",{className:"rounded-full border border-white p-1 bg-transparent",children:(0,o.jsx)("div",{className:"w-32 h-32 rounded-full cursor-pointer transition-transform duration-300 hover:scale-110 bg-center bg-cover imagen ".concat(e.image?"":e.color),style:{backgroundImage:e.image?"url(".concat(e.image,")"):"none"},onClick:()=>t(e)})}),(0,o.jsx)("h3",{className:"text-xl font-bold text-white mt-2 justify-center items-center text-center w-48 break-words leading-tight",children:e.title})]},e.id))},i))})})},x=i(2624),g=i(9424),b=i(8328),h=e=>{let{onMoveObject:t}=e;return(0,o.jsx)("div",{className:"alvy-button-container",onClick:t,children:(0,o.jsx)("button",{className:"alvy-button",children:"Explorar"})})},v=i(2079),j=i(8345),y=i(1257),w=i(303);let C="undefined"!=typeof window&&"function"==typeof(null==(n=window.document)?void 0:n.createElement)&&"string"==typeof(null==(r=window.navigator)?void 0:r.userAgent),P=null;async function k(...e){var t;null!==(t=P)&&void 0!==t||(P=await Promise.resolve().then(i.bind(i,303)));let n=P.default;return n.isSupported()?new n(...e):null}let z=(0,j.g)({time:0,map:null,fadeProgress:.5},"\n    uniform float time;\n    varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      vec3 pos = position;\n      \n      // Ondulaci\xf3n suave de la lona\n      float waveX = sin(uv.x * 5.0 + time) * 0.03;\n      float waveY = cos(uv.y * 5.0 + time) * 0.03;\n      pos.z += waveX + waveY;\n      \n      gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n    }\n  ","\n    uniform sampler2D map;\n    uniform float fadeProgress;\n    varying vec2 vUv;\n\n    void main() {\n      vec4 videoColor = texture2D(map, vUv);\n      \n      // Color blanco de lona con video superpuesto\n      vec3 lonaColor = vec3(0.95); // Blanco hueso suave\n      \n      // Mezclar video con color de lona\n      vec3 finalColor = mix(lonaColor, videoColor.rgb, 0.8);\n      \n      // ----- Bordes redondeados -----\n      float radius = 0.05; // Cuanto m\xe1s alto, m\xe1s esquinas redondas (0.0 a 0.5)\n      vec2 uv = vUv * 2.0 - 1.0; // UV de [-1,1] para facilitar c\xe1lculo\n\n      // Distancia del centro al borde redondeado\n      float cornerDist = min(\n        min(radius - abs(uv.x - sign(uv.x) * (1.0 - radius)),\n          radius - abs(uv.y - sign(uv.y) * (1.0 - radius))),\n        0.0\n      );\n\n      // Calcular la distancia desde el centro del p\xedxel al borde de un rect\xe1ngulo con esquinas redondeadas\n      vec2 corner = abs(uv) - vec2(1.0 - radius);\n      float dist = length(max(corner, 0.0)) - radius;\n\n      // Suavizado del borde (antialiasing)\n      float smoothEdge = 0.005;\n      float mask = smoothstep(0.0, smoothEdge, -dist);\n\n      // Usar mask como alpha\n      float alpha = mask * fadeProgress;\n\n      gl_FragColor = vec4(finalColor, videoColor.a * alpha);\n    }\n  ");function M(e){let{url:t,size:i,videoPosition:n,scenePosition:r,isVisible:s=!0}=e,l=function(e,{unsuspend:t="loadedmetadata",start:i=!0,hls:n={},crossOrigin:r="anonymous",muted:o=!0,loop:s=!0,playsInline:l=!0,...c}={}){let u=(0,x.D)(e=>e.gl),d=(0,a.useRef)(null),m=(0,y.Rq)(()=>new Promise(async i=>{let a,m;"string"==typeof e?a=e:m=e;let f=Object.assign(document.createElement("video"),{src:a,srcObject:m,crossOrigin:r,loop:s,muted:o,playsInline:l,...c});if(a&&C&&a.endsWith(".m3u8")){let e=d.current=await k(n);e&&(e.on(w.Events.MEDIA_ATTACHED,()=>void e.loadSource(a)),e.attachMedia(f))}let p=new v.fO1(f);"colorSpace"in p?p.colorSpace=u.outputColorSpace:p.encoding=u.outputEncoding,f.addEventListener(t,()=>i(p))}),[e]);return(0,a.useEffect)(()=>(i&&m.image.play(),()=>{d.current&&(d.current.destroy(),d.current=null)}),[m,i]),m}(t),c=(0,a.useRef)(),{camera:u}=(0,x.D)(),d=(0,a.useMemo)(()=>new v._12(i[0],i[1],32,32),[i]);return((0,x.F)(e=>{if(c.current){let t;c.current.time=e.clock.getElapsedTime();let i=u.position.distanceTo(new v.Pa4(...r));t=i>7?0:i<5?1:Math.pow(1-(i-5)/2,3),c.current.fadeProgress=t}}),s)?(0,o.jsx)("mesh",{position:n,geometry:d,children:(0,o.jsx)("lonaShaderMaterial",{ref:c,map:l,transparent:!0})}):null}(0,x.e)({LonaShaderMaterial:z});let S=e=>{let{position:t,handleExplorarClick:i,showAlvyButton:n}=e,{isFadeSidebarOpen:r}=(0,c.A)(),{camera:s}=(0,x.D)(),[l,u]=(0,a.useState)(!1);return(0,x.F)(()=>{let e=s.position,i=new v.Pa4(...t),n=e.distanceTo(i);u((n>7?0:n<5?1:Math.pow(1-(n-5)/2,3))>.5)}),(0,o.jsxs)("group",{position:t,children:[(0,o.jsx)(g.a$,{url:"/models/Mundo-1 preview.glb",scale:.8,position:[0,-1,0],rotation:[0,Math.PI/2,0]}),(0,o.jsx)(M,{url:"/videos/alveariumExampleVideo.mp4",size:[3,2],videoPosition:[0,2,-7],scenePosition:t,isVisible:!r}),n&&l&&(0,o.jsx)(b.V,{position:[0,.7,-7],transform:!0,children:(0,o.jsx)(h,{scale:.1,onMoveObject:i})})]})},I=e=>{let{position:t,handleExplorarClick:i,showAlvyButton:n}=e,{isFadeSidebarOpen:r}=(0,c.A)(),{camera:s}=(0,x.D)(),[l,u]=(0,a.useState)(!1);return(0,x.F)(()=>{let e=s.position,i=new v.Pa4(...t),n=e.distanceTo(i);u((n>7?0:n<5?1:Math.pow(1-(n-5)/2,3))>.5)}),(0,o.jsxs)("group",{position:t,children:[(0,o.jsx)(g.a$,{url:"/models/Mundo-2 preview.glb",scale:.8,position:[0,-1,0],rotation:[0,Math.PI/2,0]}),(0,o.jsx)(M,{url:"/videos/alveariumExampleVideo.mp4",size:[3,2],videoPosition:[0,2,-7],scenePosition:t,isVisible:!r}),n&&l&&(0,o.jsxs)(b.V,{position:[0,.7,-7],transform:!0,children:[(0,o.jsx)(h,{scale:.1,onMoveObject:i}),"  "]})]})},T=e=>{let{position:t,handleExplorarClick:i,showAlvyButton:n}=e,{isFadeSidebarOpen:r}=(0,c.A)(),{camera:s}=(0,x.D)(),[l,u]=(0,a.useState)(!1);return(0,x.F)(()=>{let e=s.position,i=new v.Pa4(...t),n=e.distanceTo(i);u((n>7?0:n<5?1:Math.pow(1-(n-5)/2,3))>.5)}),(0,o.jsxs)("group",{position:t,children:[(0,o.jsx)(g.a$,{url:"/models/Mundo-3 preview.glb",scale:.8,position:[0,-1,0],rotation:[0,Math.PI/2,0]}),(0,o.jsx)(M,{url:"/videos/alveariumExampleVideo.mp4",size:[3,2],videoPosition:[0,2,-7],scenePosition:t,isVisible:!r}),n&&l&&(0,o.jsx)(b.V,{position:[0,.7,-7],transform:!0,children:(0,o.jsx)(h,{scale:.1,onMoveObject:i})})]})},N=e=>{let{position:t,handleExplorarClick:i,showAlvyButton:n}=e,{isFadeSidebarOpen:r}=(0,c.A)(),{camera:s}=(0,x.D)(),[l,u]=(0,a.useState)(!1);return(0,x.F)(()=>{let e=s.position,i=new v.Pa4(...t),n=e.distanceTo(i);u((n>7?0:n<5?1:Math.pow(1-(n-5)/2,3))>.5)}),(0,o.jsxs)("group",{position:t,children:[(0,o.jsx)(g.a$,{url:"/models/untitled.glb",scale:.8,position:[0,-1,0],rotation:[0,Math.PI,0]}),(0,o.jsx)(M,{url:"/videos/alveariumExampleVideo.mp4",size:[3,2],videoPosition:[0,2,-7],scenePosition:t,isVisible:!r}),n&&l&&(0,o.jsxs)(b.V,{position:[0,.7,-7],transform:!0,children:[(0,o.jsx)(h,{scale:.1,onMoveObject:i}),"  "]})]})},A=(0,a.createContext)(null),E=e=>{let{children:t}=e,i=(0,a.useRef)(),[n,r]=(0,a.useState)(!1),s=(0,a.useRef)({x:0,y:0,z:0}),l=(0,a.useRef)({x:0,y:0}),c=(0,a.useRef)(0),[u,d]=(0,a.useState)({x:0,y:0}),[m,f]=(0,a.useState)(!1);return(0,o.jsx)(A.Provider,{value:{cameraRef:i,isDragging:n,setIsDragging:r,isInMotion:m,setIsInMotion:f,velocity:s,lastMousePos:l,scrollVelocity:c,mousePos:u,setMousePos:d},children:t})},F=()=>{let e=(0,a.useContext)(A);if(!e)throw Error("useCameraContext must be used within a CameraProvider");return e};function R(e){let{showAlvyButton:t,handleExplorarClick:i}=e,[n,r]=(0,a.useState)([-20,-60,-100,-140]),{cameraRef:s}=F(),l=e=>e.map(e=>s.current.position.z<e-160+40?e-160:s.current.position.z>e+160-40?e+160:e);return(0,x.F)(()=>{if(s.current){let e=l(n);n.every((t,i)=>t===e[i])||r(e)}}),(0,o.jsx)(o.Fragment,{children:n.map((e,n)=>{let r=[S,I,T,N][n];return(0,o.jsx)(r,{position:[0,0,e],showAlvyButton:t,handleExplorarClick:i},n)})})}let D=()=>{let e=(0,a.useRef)(),[t,i]=(0,a.useState)(0),{cameraRef:n}=F();return(0,x.F)(()=>{n.current&&(i(Math.abs(n.current.position.z)%160/160*100),e.current&&e.current.position.set(0,-120,n.current.position.z-200))}),(0,o.jsx)("mesh",{ref:e,children:(0,o.jsx)(b.V,{center:!0,children:(0,o.jsx)("div",{className:"progress-container",children:(0,o.jsx)("div",{className:"progress-bar",style:{width:"".concat(t,"%")}})})})})};function V(){let{scene:e}=(0,x.D)(),{cameraRef:t}=F(),i=(0,a.useRef)(["#C1A3E9","lightblue","lightgreen","pink"]),n=(0,a.useRef)(new v.Ilk(i.current[0])),r=(0,a.useRef)(new v.Ilk(i.current[0])),s=(0,a.useRef)(),l=(0,a.useRef)();return new v.Pa4(0,-1,0),(0,x.F)(()=>{if(t.current){let o=Math.floor(-(t.current.position.z-5)/40)%i.current.length,a=i.current[o];n.current.equals(new v.Ilk(a))||n.current.set(a),r.current.lerp(n.current,.02),e.background=r.current,e.fog.color.set(r.current),s.current&&s.current.color.set(r.current),l.current&&(l.current.position.set(t.current.position.x,t.current.position.y+2,t.current.position.z-6),l.current.target.position.set(t.current.position.x,t.current.position.y,t.current.position.z-6),l.current.target.updateMatrixWorld(),l.current.color.set(r.current))}}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("ambientLight",{ref:s,intensity:1}),(0,o.jsx)("spotLight",{ref:l,intensity:20,castShadow:!0,"shadow-mapSize":[2048,2048],"shadow-bias":-.001,decay:2,distance:50,angle:Math.PI/2.5,penumbra:.3})]})}function O(e){let{visible:t,renderContenido:i,onClose:n}=e;return t&&i?(0,o.jsxs)("div",{className:"texto-externo",children:[i(),(0,o.jsx)("button",{className:"cerrar-boton",onClick:n,children:"X"})]}):null}let _=e=>{let{cameraDragRef:t,setShowHamburger:i,setShowAlvyButton:n,setShowReturnButton:r,setShowAnimatedText:o,setDisableScroll:s,setIsFadeSidebarOpen:l,isFadeSidebarOpen:c,setText:u,referencePosition:d,setCurrentScene:m}=e,f=(0,a.useCallback)(e=>{var i;null===(i=t.current)||void 0===i||i.handlePointerDown(e)},[t]),p=(0,a.useCallback)(()=>{var e;null===(e=t.current)||void 0===e||e.handlePointerUp()},[t]),x=(0,a.useCallback)(e=>{var i;null===(i=t.current)||void 0===i||i.handlePointerMove(e)},[t]);return{handlePointerDown:f,handlePointerUp:p,handlePointerMove:x,toggleFadeSidebar:(0,a.useCallback)(()=>{c?(i(!1),n(!0),r(!0),o(!0),s(!1)):s(!0),l(e=>!e)},[c,l,i,n,r,o,s]),handleExplorarClick:(0,a.useCallback)(()=>{i(!0),l(!0),n(!1),r(!1),o(!1),s(!0)},[i,l,n,r,o,s]),handlePositionChange:(0,a.useCallback)(e=>{u(e);let t=e.z;if(void 0!==t){let e=-((t%160+160)%160),i=null;e<=0&&e>-20?i="escena4":e<=-40&&e>-60?i="escena3":e<=-80&&e>-100?i="escena2":e<=-120&&e>-140&&(i="escena1"),m(e=>e!==i?i:e)}},[u,m])}};var q=i(7806);i(7645);var U=e=>{let{isOpen:t,onClose:i,selectedCircle:n,onReset:r,children:a}=e;return(0,o.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center transition-opacity duration-300 ".concat(t?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),children:(0,o.jsx)("div",{className:"relative rounded-lg w-3/4 h-3/4 flex justify-center items-center bg-opacity-0 bg-black mt-12",children:n?(0,o.jsxs)("div",{className:"flex w-full h-full items-center contenedor-grande",children:[(0,o.jsx)("div",{className:"w-1/3 flex justify-center contenedor-imagen",children:(0,o.jsx)("div",{className:"rounded-full border border-white p-1 bg-transparent",children:(0,o.jsx)("div",{className:"w-48 h-48 bg-center bg-cover rounded-full ".concat(n.image?"":n.color," imagen-circulo"),style:{backgroundImage:n.image?"url(".concat(n.image,")"):"none"}})})}),(0,o.jsxs)("div",{className:"w-2/3 flex justify-center text-white contenedor-texto",children:[(0,o.jsx)("h2",{className:"text-3xl font-bold mb-4 titulo",children:n.title}),(0,o.jsx)("p",{className:"text-lg",children:n.text}),(0,o.jsx)("button",{className:"mt-5 px-4 py-2 bg-foundation-1 text-white rounded-lg w-48 max-w-[8rem] sm:max-w-[9rem] md:max-w-[10rem]",onClick:r,children:"Volver"})]})]}):(0,o.jsx)("div",{className:"w-full h-full",children:a})})})},L=e=>{let{isActive:t,onClick:i}=e;return(0,o.jsx)("button",{className:"hamburger-btn ".concat(t?"active":""," fixed top-5 left-5 z-50 bg-black bg-opacity-50 text-white p-3 rounded-full"),id:"hamburger-btn",onClick:i,"aria-label":"Toggle sidebar",children:"âœ–"})};class Y extends v.jyz{get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}get pixelRatio(){return this.uniforms.pixelRatio.value}set pixelRatio(e){this.uniforms.pixelRatio.value=e}constructor(){super({uniforms:{time:{value:0},pixelRatio:{value:1}},vertexShader:"\n        uniform float pixelRatio;\n        uniform float time;\n        attribute float size;  \n        attribute float speed;  \n        attribute float opacity;\n        attribute vec3 noise;\n        attribute vec3 color;\n        varying vec3 vColor;\n        varying float vOpacity;\n\n        void main() {\n          vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n          modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;\n          modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;\n          modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;\n          vec4 viewPosition = viewMatrix * modelPosition;\n          vec4 projectionPostion = projectionMatrix * viewPosition;\n          gl_Position = projectionPostion;\n          gl_PointSize = size * 25. * pixelRatio;\n          gl_PointSize *= (1.0 / - viewPosition.z);\n          vColor = color;\n          vOpacity = opacity;\n        }\n      ",fragmentShader:"\n        varying vec3 vColor;\n        varying float vOpacity;\n\n        void main() {\n        float distanceToCenter = distance(gl_PointCoord, vec2(0.5));\n\n          // Corta los fragmentos fuera del c\xedrculo\n          //if (distanceToCenter > 0.5) discard;\n\n         // Intensity (glow-like falloff)\n        float strength = 0.01 / distanceToCenter - 0.1;\n\n        // Usa alpha real (puedes ajustar el multiplicador de strength si quieres menos glow)\n        float alpha = clamp(strength * vOpacity, 0.0, 1.0);\n\n        gl_FragColor = vec4(vColor, alpha);\n        //gl_FragColor = vec4(vColor, strength * vOpacity);\n\n        #include <tonemapping_fragment>\n        #include <colorspace_fragment>\n        }\n        ",transparent:!0,depthWrite:!1})}}(0,x.e)({SparklesImplMaterial:Y});let Z=e=>e&&e.constructor===Float32Array,B=e=>[e.r,e.g,e.b],X=e=>e instanceof v.FM8||e instanceof v.Pa4||e instanceof v.Ltg,W=e=>Array.isArray(e)?e:X(e)?e.toArray():[e,e,e];function $(e,t,i){return(0,a.useMemo)(()=>void 0!==t?Z(t)?t:t instanceof v.Ilk?Float32Array.from(Array.from({length:e},()=>B(t)).flat()):X(t)||Array.isArray(t)?Float32Array.from(Array.from({length:e},()=>W(t)).flat()):Float32Array.from({length:e},()=>t):Float32Array.from({length:e},i),[e,t])}let H=(0,a.forwardRef)((e,t)=>{let{count:i=100,speed:n=1,opacity:r=1,color:s=new v.Ilk("white"),size:l,scale:c=1,noise:u=1,...d}=e,m=(0,a.useRef)(),f=(0,x.D)(e=>e.viewport.dpr),p=W(c),g=(0,a.useMemo)(()=>Float32Array.from(Array.from({length:i},()=>p.map(v.M8C.randFloatSpread)).flat()),[i,c]),b=$(i,l,()=>Math.random()),h=$(i,r),j=$(i,n),y=$(3*i,u),w=$(void 0===s?3*i:i,Z(s)?s:new v.Ilk(s),()=>1);return(0,x.F)(e=>{m.current&&m.current.material&&(m.current.material.time=e.clock.elapsedTime)}),(0,a.useImperativeHandle)(t,()=>m.current),(0,o.jsxs)("points",{ref:m,...d,children:[(0,o.jsxs)("bufferGeometry",{children:[(0,o.jsx)("bufferAttribute",{attach:"attributes-position",args:[g,3]}),(0,o.jsx)("bufferAttribute",{attach:"attributes-size",args:[b,1]}),(0,o.jsx)("bufferAttribute",{attach:"attributes-opacity",args:[h,1]}),(0,o.jsx)("bufferAttribute",{attach:"attributes-speed",args:[j,1]}),(0,o.jsx)("bufferAttribute",{attach:"attributes-color",args:[w,3]}),(0,o.jsx)("bufferAttribute",{attach:"attributes-noise",args:[y,3]})]}),(0,o.jsx)("sparklesImplMaterial",{pixelRatio:f})]})});function G(e){let{offset:t=10,followAxis:i="z",range:n=40}=e,{camera:r}=(0,x.D)(),[s,l]=(0,a.useState)([]),c=(0,a.useRef)(0);(0,a.useEffect)(()=>{r.layers.enable(0),r.layers.enable(1)},[r]);let u=e=>{let t=a.createRef();return{id:c.current++,position:e,ref:t}};return(0,x.F)(()=>{let e=r.position[i],o=Math.floor(e/t)*t,a=[];for(let e=-n;e<=n;e+=t)a.push(o+e);a.forEach(e=>{if(!s.some(t=>t.position===e)){let t=u(e);l(e=>[...e,t])}}),l(t=>t.filter(t=>Math.abs(t.position-e)<=1.5*n))}),(0,a.useEffect)(()=>{s.forEach(e=>{e.ref.current&&e.ref.current.traverse(e=>{e instanceof v.Tme&&e.layers.set(1)})})},[s]),(0,o.jsx)(o.Fragment,{children:s.map(e=>(0,o.jsx)("group",{ref:e.ref,position:"z"===i?[0,0,e.position]:"x"===i?[e.position,0,0]:[0,e.position,0],children:(0,o.jsx)(H,{count:100,size:25,speed:.6,scale:40,opacity:1},"mod-sparkles-".concat(e.id))},e.id))})}H.displayName="ModSparkles";let J=e=>{let{title:t,content:i,opacity:n}=e;return(0,o.jsxs)("div",{className:"\n        fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\n        text-white text-center p-12 pointer-events-none\n        transition-opacity duration-150 ease-in-out\n      ",style:{opacity:n},children:[t&&(0,o.jsx)("h1",{className:"text-4xl font-bold mb-4 animate-fade-in-down",children:t}),i&&(0,o.jsx)("p",{className:"text-lg animate-fade-in-up",children:i})]})};function K(e){let{onPositionChange:t}=e,{cameraRef:i}=F();return(0,x.F)(()=>{if(i.current){let e=i.current.position.z,n=function(e){let t=e%160;if(t>0)return{title:"",content:"",opacity:0};for(let e of[{start:0,end:-15,title:"Nacimiento, equipo, visi\xf3n, misi\xf3n, valores"},{start:-40,end:-57,title:"Premios, subvenciones, ENISA"},{start:-80,end:-95,title:"Portfolio"},{start:-120,end:-135,title:"La plataforma"}])if(t>=e.end-5&&t<=e.start+5){let i=1;return t>e.start?i=1-(t-e.start)/5:t<e.end&&(i=1-(e.end-t)/5),i=Math.max(0,Math.min(1,i)),{title:e.title,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla accumsan, metus ultrices eleifend gravida,",opacity:i}}return{title:"",content:"",opacity:0}}(e);t({title:n.title,content:n.content,opacity:n.opacity,z:e})}}),null}let Q=e=>{let{children:t}=e,{cameraRef:i,isDragging:n,setIsDragging:r,velocity:s,lastMousePos:l,scrollVelocity:c,setIsInMotion:u}=F(),d=(0,a.useCallback)(e=>{r(!0),l.current={x:e.clientX,y:e.clientY},u(!1)},[r,l,u]),m=(0,a.useCallback)(()=>{r(!1),u(!0)},[r,u]),f=(0,a.useCallback)(e=>{if(n&&i.current){let t=l.current.y-e.clientY;s.current.z=-.03*t,i.current.position.z+=s.current.z,l.current={x:e.clientX,y:e.clientY}}},[n,i,l,s]),p=(0,a.useCallback)(e=>{c.current=-.005*e.deltaY;let t=-.01*e.deltaY;i.current.position.z+=t,u(!1)},[i,c,u]);return(0,o.jsx)(g.h9,{shadows:!0,onPointerDown:d,onPointerUp:m,onPointerMove:f,onWheel:p,children:t})},ee=()=>{let{cameraRef:e,scrollVelocity:t,velocity:i,isInMotion:n}=F();return(0,x.F)(()=>{e.current&&(Math.abs(t.current)>.01&&(e.current.position.z=Math.min(e.current.position.z+t.current,0),t.current*=.95),n&&e.current.position.z<0&&Math.abs(i.current.z)>=.01&&(e.current.position.z+=i.current.z,i.current.z*=.95))}),null},et=()=>{let{camera:e}=(0,x.D)(),{cameraRef:t}=F();return(0,a.useEffect)(()=>{t.current=e,console.log("Camera asignada al contexto:",t.current)},[e]),null},ei=(e,t,i)=>e+(t-e)*i,en=()=>{let{cameraRef:e,mousePos:t,setMousePos:i}=F();return(0,a.useEffect)(()=>{let e=e=>{i({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]),(0,x.F)(()=>{if(!e.current)return;let i=window.innerWidth,n=window.innerHeight,r=t.x/i*2-1,o=t.y/n*2-1;e.current.position.x=ei(e.current.position.x,.2*r,.9),e.current.position.y=ei(e.current.position.y,2+-(.2*o),.9)}),null};var er=(0,q.Z)(function(){let[e,t]=(0,a.useState)(!1),[i,n]=(0,a.useState)(!1),[r,f]=(0,a.useState)(!0),[x,g]=(0,a.useState)(!0),[b,h]=(0,a.useState)({title:"",content:"",visible:!1,opacity:0}),[v,j]=(0,a.useState)(0),[y,w]=(0,a.useState)(!0),[C,P]=(0,a.useState)(!1),[k,z]=(0,a.useState)(null),{isSidebarOpen:M,isFadeSidebarOpen:S,setIsFadeSidebarOpen:I}=(0,c.A)(),{contenido:T,cerrarTexto:N}=function(){let[e,t]=(0,a.useState)(null);return{contenido:e,contenidoCubo1:()=>(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"titulo-cubo",children:"Cubo 1"}),(0,o.jsx)("p",{className:"descripcion-cubo",children:"Este es el contenido personalizado para el Cubo 1."}),(0,o.jsx)("div",{className:"extra-info",children:"M\xe1s informaci\xf3n sobre el Cubo 1."})]}),handleCuboClick:e=>{t(()=>e)},cerrarTexto:()=>{t(null)}}}(),[A,F]=(0,a.useState)("escena1"),{handlePointerDown:q,handlePointerUp:Y,handlePointerMove:Z,toggleFadeSidebar:B,handleExplorarClick:X,handlePositionChange:W}=_({setShowHamburger:n,setShowAlvyButton:f,setShowReturnButton:g,setShowAnimatedText:w,setDisableScroll:P,setIsFadeSidebarOpen:I,isFadeSidebarOpen:S,setText:h,setCurrentScene:F});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(E,{children:(0,o.jsxs)(Q,{children:[(0,o.jsx)("fog",{attach:"fog",args:["#ff6347",10,20]}),(0,o.jsx)(V,{}),(0,o.jsx)(R,{showAlvyButton:r,handleExplorarClick:X}),(0,o.jsx)(G,{}),(0,o.jsx)(D,{progressValue:v}),(0,o.jsx)(K,{onPositionChange:W}),(0,o.jsx)(s.qA,{background:!1,preset:"sunset",environmentIntensity:.3}),(0,o.jsx)(ee,{}),(0,o.jsx)(en,{}),(0,o.jsx)(et,{})]})}),(0,o.jsx)(O,{visible:!!T,renderContenido:T,onClose:N}),y&&(0,o.jsx)(J,{title:b.title,content:b.content,visible:b.visible,opacity:b.opacity}),(0,o.jsx)(l.Z,{isOpen:M,className:"sidebarhm",onClose:()=>{t(!e)},children:(0,o.jsx)(m.Z,{})}),(0,o.jsxs)(U,{isOpen:S,onClose:B,selectedCircle:k,onReset:()=>z(null),children:["escena1"===A&&(0,o.jsx)(p,{setSelectedCircle:z,sidebarId:1}),"escena2"===A&&(0,o.jsx)(p,{setSelectedCircle:z,sidebarId:2}),"escena3"===A&&(0,o.jsx)(p,{setSelectedCircle:z,sidebarId:3}),"escena4"===A&&(0,o.jsx)(p,{setSelectedCircle:z,sidebarId:4})]}),(0,o.jsx)(u.Z,{title:"",showReturnButton:!S}),i&&(0,o.jsx)(L,{onClick:()=>{k&&z(null),B()}}),(0,o.jsx)(d.Z,{})]})})},9945:function(e,t,i){"use strict";var n=i(7437);i(2265),i(3193),t.Z=e=>{let{isOpen:t,className:i,onClose:r,onOpenSidebarC:o,children:a}=e;return(0,n.jsx)("div",{className:"".concat(t?"open":""," ").concat(i),children:a})}},712:function(e,t,i){"use strict";var n=i(7437);i(2265),t.Z=()=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("ul",{className:"lista",children:[(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"#contacto",onClick:()=>visibilitySidebarContend(),children:"Contacto"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"#services",children:"Preguntas Frecuentes"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"#about",onClick:()=>setProgressValue(75),children:"Chatbot"})}),(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:"#contact",children:"T\xe9rminos y condiciones"})})]})})},8479:function(){},7645:function(){},6778:function(){}},function(e){e.O(0,[4061,9197,2189,6311,535,6937,399,5336,7254,5870,6689,2404,5878,4687,4674,8513,2971,2117,1744],function(){return e(e.s=1299)}),_N_E=e.O()}]);